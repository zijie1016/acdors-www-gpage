<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1"/>
  <meta name="renderer" content="webkit"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
  <link rel="icon" href="/favicon.ico">
  <!--Bootstrap 3.3.7 -->
  <link href="../plugin/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <!--Swiper.js 2.7.6-->
  <link rel="stylesheet" href="../plugin/swiper.js/2.7.6/css/idangerous.swiper.css">
  <!--custom styles-->
  <link rel="stylesheet" href="../css/acdors.css">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="../plugin/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="../plugin/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <title>星榜戏逗 - 师资介绍</title>
</head>
<body>
  <!-------------------------------- 页首导航栏 -------------------------------->
  <nav class="navbar">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          <img src="../img/logo.png" alt="acdors logo">
        </a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav nav-pills navbar-right nav-justified">
          <li><a href="../index.html">首页</a></li>
          <li><a href="recruiting.html">剧组招募</a></li>
          <li><a href="partners.html">合作伙伴</a></li>
          <li class="active"><a href="teachers.html">师资介绍</a></li>
          <li><a href="about-us.html">关于我们</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-------------------------------- 师资轮播图 -------------------------------->
  <div id="teacher-slides" class="intro-carousel">
    <!--此wrapper非彼wrapper，是自定义的wrapper-->
    <div class="carousel-wrapper">
      <a href="#" class="arrow-left-white"></a>
      <a href="#" class="arrow-right-white"></a>
      <div class="swiper-container">
        <div class="swiper-wrapper">
        </div> <!-- .swiper-wrapper -->
      </div> <!-- .swiper-container -->
      <!--<div class="pagination"></div>-->
    </div> <!-- .carousel-wrapper -->
  </div> <!-- #teacher-slides -->

  <!--------------------------- 师资轮播图对应的老师介绍 --------------------------->
  <div id="teacher-info-slides" class="intro-text-carousel">
    <div class="swiper-container">
      <div class="swiper-wrapper">
      </div> <!-- .swiper-wrapper -->
    </div> <!-- .swiper-container -->
  </div> <!-- #teacher-info-slides -->


  <!--------------------------- 页脚 --------------------------->
  <div class="footer">
    <div class="container">
      <p>
        版权所有:北京温暖阳光下教育科技有限公司
      </p>
      <div class="divider"></div>
      <p>
        公司电话：400-898-9680
      </p>
      <div class="divider"></div>
      <p>
        公司地址：北京市朝阳区酒仙桥路酒仙公寓B座2021
      </p>
      <div class="divider"></div>
      <p>
        备案号：京ICP备18028385号-1
      </p>
    </div>
  </div>



  <!-------------------------------- 各种插件 -------------------------------->
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <!--(for debugging only)-->
  <script src="../plugin/jquery/1.12.4/jquery.min.js"></script>
  <!-- swiper.js 2.7.6 (for debuggin only) -->
  <script src="../plugin/swiper.js/2.7.6/js/idangerous.swiper.min.js"></script>
  <!--<script src="../js/carousels.js"></script>-->
  <!--Bootstrap 3.3.37 javascript file (for debugging only)-->
  <script src="../plugin/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!-------------------------------- 自定义javascript -------------------------------->
  <script src="../js/acdors.js"></script>
  <script>
    $(function () {
      // 请求老师图片
      $.ajax({
        type: "get",
        url: domainUrl + 'web/teacher',
        async: true,
        dataType: "json",
        success: function (data) {
          data = data.data;

          for(var i=0,length=data.length; i<length; ++i) {
            // 请求每个老师的图片
            var $teacherSlide = '<div class="swiper-slide">' +
                '<img src="' + ossUrl + data[i].avatar + '" alt="师资轮播图">' +
              '</div>';
            $('#teacher-slides .swiper-wrapper').append($teacherSlide);

            // 请求对应老师的信息
            var gender = data[i].gender == 1 ? '男' : '女';
            var $teacherInfo = '<div class="swiper-slide">' +
                '<table class="profile-info">' +
                  '<thead>' +
                    '<tr><th colspan="2"><h3>' + data[i].name + '</h3></th></tr>' +
                  '</thead>' +
                  '<tbody>' +
                    '<tr>' +
                      '<th>性别：</th>' +
                      '<td>' + gender + '</td>' +
                    '</tr>' +
                    '<tr>' +
                      '<th>职业：</th>' +
                      '<td>' + data[i].profession + '</td>' +
                    '</tr>';

            if (data[i].creation != "") // 如果没有作品，就不显示此行
            {
              $teacherInfo += '<tr>' +
                '<th>作品：</th>' +
                '<td>' + data[i].creation + '</td>' +
                '</tr>';
            }

            $teacherInfo += '<tr>' +
                      '<th>简介：</th>' +
                      '<td>' + data[i].content + '</td>' +
                    '</tr>' +
                  '</tbody>' +
                '</table>' +
              '</div>';
              $('#teacher-info-slides .swiper-wrapper').append($teacherInfo);
          } // for

          // 师资轮播图 swiperjs 配置
          var tsAutoplayFrequence = 6000;
          var tsSpeed = 800;
          var teacherSlides = $('#teacher-slides .swiper-container').swiper({
            autoplay: tsAutoplayFrequence,
            speed: tsSpeed,
            autoplayDisableOnInteraction: true,
            grabCursor: true,
            slidesPerView: 3,
            centeredSlides: true,
            watchActiveIndex: true,
            onSlideChangeStart: function () {
              updateTeacherInfo(teacherSlides.activeLoopIndex);
            },
            onTouchEnd: function(){
              teacherSlides.swipeNext();
            }
          });
          $('#teacher-slides .arrow-left-white').on('click', function(e){
            e.preventDefault();
            teacherSlides.swipePrev();
          });

          $('#teacher-slides .arrow-right-white').on('click', function(e){
            e.preventDefault();
            teacherSlides.swipeNext();
          });

          // 老师介绍 swiperjs 配置
          var teacherInfoSlides = $('#teacher-info-slides .swiper-container').swiper({
            autoplay: tsAutoplayFrequence,
            speed: tsSpeed,
            autoplayDisableOnInteraction: true,
            slidesPerView: 1,
            centeredSlides: true,
            grabCursor: true,
            onSlideChangeStart: function(){ //teacherInfo和teachersCarousel互相控制
              teacherSlides.swipeTo(teacherInfoSlides.activeLoopIndex, tsSpeed, false);
            },
          });

          function updateTeacherInfo(index) {
            teacherInfoSlides.swipeTo(index, tsSpeed, false);
          }

        }
      });
    });
  </script>
</body>
</html>
