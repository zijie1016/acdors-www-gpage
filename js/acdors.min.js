function buildIndex() {
  _data.getIndex(_ui.buildIndex), buildCommon(), _ctl.setParallax(".top"), _ctl.setParallax("#soli-intro-text"), _ctl.setParallax("#soli-intro-imgs")
}

function buildCrewDetail() {
  _data.getCrewDetailById(_ctl.getQueryString("id"), _ui.buildCrewDetail), buildCommon()
}

function buildCrewList() {
  _data.getCrewList(_ui.buildCrewList), buildCommon()
}

function buildJoinUs() {
  _data.getJoinUs(_ui.buildJoinUs), buildCommon()
}

function buildStarTeacherDetail() {
  _data.getStarTeacherDetailById(_ctl.getQueryString("t_id"), _ui.buildStarTeacherDetail), buildCommon()
}

function buildNavbar() {
  $(".wrapper").prepend(_ui.buildNavbar()), _ctl.scrollWatch({
    target: "nav",
    showClass: "show",
    hideClass: "hidden"
  })
}

function buildFooter() {
  $(".wrapper").append(_ui.buildFooter())
}

function buildCommon() {
  buildNavbar(), buildFooter()
}
var _ui = {
    buildNavbar: function () {
      return '<nav class="container-fluid show"><div class="navbar navbar-expand-lg navbar-dark container">  <a class="navbar-brand" href="index.html">    <img class="img-fluid" src="img/icon/logo-soli.png" alt="温暖阳光下logo">  </a>  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">    <span class="navbar-toggler-icon"></span>   </button>  <div class="collapse navbar-collapse justify-content-end" id="navbarNav">    <div class="navbar-nav">      <a class="nav-item nav-link" href="index.html#soli-intro">温暖阳光下</a>      <a class="nav-item nav-link" href="index.html#projects">项目介绍</a>      <a class="nav-item nav-link" href="index.html#partners">合作伙伴</a>      <a class="nav-item nav-link" href="index.html#teachers">师资介绍</a>      <a class="nav-item nav-link" href="index.html#join-us">加入我们</a>    </div>  </div></div></nav>'
    },
    buildFooter: function () {
      return '<footer><div class="container"> <p>版权所有:北京温暖阳光下教育科技有限公司</p> <div class="divider"></div> <p>公司电话：400-898-9680</p> <div class="divider"></div> <p>公司地址：北京市朝阳区酒仙桥路酒仙公寓B座2022</p> <div class="divider"></div> <p>备案号：京ICP备18028385号-1</p> </div> </footer>'
    },
    buildIndex: function (e) {
      var i, t, a = (e = e.data).banner,
        r = e.about,
        n = e.drama,
        o = e.partner,
        s = e.starTeachers,
        l = e.seniorTeachers,
        d = e.job;
      for (console.log("_ui.buildIndex() -"), i = a.length, t = 0; t < i; ++t) $(".banner .swiper-wrapper").append(_ui._buildSwiperSlide({
        type: "banner",
        data: a[t]
      }));
      for (_ctl.bannerSwiper = _ctl.setSwiper(".banner .swiper-container", {
          speed: 600,
          loop: !0,
          slidesPerView: 1,
          autoplay: {
            delay: 4e3
          },
          centeredSlides: !0,
          grabCursor: !0,
          disableOnInteraction: !1,
          pagination: {
            el: ".swiper-pagination",
            clickable: !0
          }
        }), $("#soli-intro-content").append(r.content), $("#project-intro").append(e.introduction), $("#path_img").attr("src", _data.ossDomain + e.path_img), _ui._insertCrewBrief(n), i = o.length, t = 0; t < i; ++t) $(".partner-info .swiper-wrapper").append(_ui._buildSwiperSlide({
        type: "partner-info",
        data: o[t]
      })), $(".partner-logo .swiper-wrapper").append(_ui._buildSwiperSlide({
        type: "partner-logo",
        data: o[t]
      }));
      for (_ctl.partnerLogoSwiper = _ctl.setSwiper(".partner-logo", {
          slidesPerView: "auto",
          freeMode: !0,
          watchSlidesVisibility: !0,
          watchSlidesProgress: !0
        }), _ctl.partnerInfoSwiper = _ctl.setSwiper(".partner-info", {
          autoplay: {
            delay: 5e3
          },
          slidesPerView: "auto",
          autoHeight: !0,
          effect: "fade",
          fadeEffect: {
            crossFade: !0
          },
          thumbs: {
            swiper: _ctl.partnerLogoSwiper
          }
        }), console.log(s), i = s.length, t = 0; t < i; ++t) $("#star-teachers .teacher-img .swiper-wrapper").append(_ui._buildSwiperSlide({
        type: "teacher-img",
        data: s[t]
      })), $("#star-teachers .teacher-info .swiper-wrapper").append(_ui._buildSwiperSlide({
        type: "teacher-info",
        data: s[t]
      }));
      for (_ctl.starTeacherInfoSwiper = _ctl.setSwiper("#star-teachers .teacher-info", {
          slidesPerView: 1,
          allowSlidePrev: !1,
          allowSlideNext: !1,
          autoHeight: !0,
          observer: !0,
          observeParents: !0,
          effect: "fade",
          fadeEffect: {
            crossFade: !0
          }
        }), _ctl.starTeacherImgSwiper = _ctl.setSwiper("#star-teachers .teacher-img", {
          slidesPerView: "auto",
          centeredSlides: !0,
          freeMode: !0,
          freeModeSticky: !0,
          freeModeMomentum: !1,
          observer: !0,
          observeParents: !0,
          slideToClickedSlide: !0,
          watchSlidesProgress: !0,
          watchSlidesVisibility: !0,
          controller: {
            control: _ctl.starTeacherInfoSwiper
          }
        }), console.log(l), i = l.length, t = 0; t < i; ++t) $("#senior-teachers .teacher-img .swiper-wrapper").append(_ui._buildSwiperSlide({
        type: "teacher-img",
        data: l[t]
      })), $("#senior-teachers .teacher-info .swiper-wrapper").append(_ui._buildSwiperSlide({
        type: "teacher-info",
        data: l[t]
      }));
      for (_ctl.seniorTeacherInfoSwiper = _ctl.setSwiper("#senior-teachers .teacher-info", {
          slidesPerView: 1,
          allowSlidePrev: !1,
          allowSlideNext: !1,
          observer: !0,
          observeParents: !0,
          effect: "fade",
          fadeEffect: {
            crossFade: !0
          }
        }), _ctl.seniorTeacherImgSwiper = _ctl.setSwiper("#senior-teachers .teacher-img", {
          slidesPerView: "auto",
          centeredSlides: !0,
          freeMode: !0,
          freeModeSticky: !0,
          freeModeMomentum: !1,
          observer: !0,
          observeParents: !0,
          slideToClickedSlide: !0,
          watchSlidesProgress: !0,
          watchSlidesVisibility: !0,
          controller: {
            control: _ctl.seniorTeacherInfoSwiper
          }
        }), t = 0; t < 3; ++t) $("#recruit" + t + " p:nth-child(1)").append(d[t].title), $("#recruit" + t + " > div").append(d[t].content)
    },
    buildCrewDetail: function (e) {
      var i, t, a = e.crewinfo,
        r = e.creatorlist,
        n = e.castlist,
        o = e.crew_album;
      for (_ui._insertCrewBrief(a), $("#synopsis").append(a.introduction), i = r.length, t = 0; t < i; ++t) $("#creators").append(_ui._buildMediaItem({
        type: "creator",
        item: r[t]
      }));
      for (i = n.length, t = 0; t < i; ++t) $("#roles").append(_ui._buildMediaItem({
        type: "role",
        item: n[t]
      }));
      var s = "";
      for (i = o.length, t = 0; t < i; ++t) s += '<div><img src="' + _data.ossDomain + o[t].photo + '" alt="剧组相册"></div>';
      $("#album").append(s)
    },
    buildCrewList: function (e) {
      var i, t = e.data,
        a = t.length;
      for (i = 0; i < a; ++i) $("#list").append(_ui._buildCrewItem(t[i].crewinfo, i))
    },
    buildJoinUs: function (e) {
      var i, t = (e = e.data).length;
      for (i = 0; i < t; ++i) $(".join-us").append(_ui._buildRecruitInfo(e[i]))
    },
    buildStarTeacherDetail: function (e) {
      e = e.data, $("#avatar").attr("src", _data.ossDomain + e.avatar), $(".intro h3").text(e.name), $(".intro p").append(e.intro), $(".detail").append(e.detail)
    },
    _buildSwiperSlide: function (e) {
      var i = '<div class="swiper-slide">';
      switch (e.type) {
        case "banner":
          i += this._buildImage({
            src: _data.ossDomain + e.data.banner,
            alt: e.data.title
          });
          break;
        case "partner-info":
          i += "<p>" + e.data.partner_title + "</p><p>" + e.data.partner_info + "</p>";
          break;
        case "partner-logo":
          i += this._buildImage({
            src: _data.ossDomain + e.data.partner_src,
            alt: e.data.partner_title
          }) + "<p>" + e.data.partner_title + "</p>";
          break;
        case "teacher-img":
          console.log("  image source:" + _data.ossDomain + e.data.avatar), i += this._buildImage({
            src: _data.ossDomain + e.data.avatar,
            alt: e.data.name
          });
          break;
        case "teacher-info":
          i += this._buildInfoTable(e.data)
      }
      return i + "</div>"
    },
    _buildImage: function (e) {
      return '<img src="' + e.src + '" alt="' + e.alt + '">'
    },
    _buildCrewBrief: function (e) {
      var i = '<div class="crew-brief"> <div><img class="img-fluid" alt="剧组图片" src="' + _data.ossDomain + e.crewinfo.crew_picurl + '"></div> <div class="brief-info"> <p>' + e.crewinfo.crew_name + "</p><p>剧目类型：" + e.crewinfo.crew_type + "</p><p>导演：" + e.crewinfo.crew_director + "</p><p>制作公司：" + e.crewinfo.crew_producer + "</p><p>出品人/出品公司：" + e.crewinfo.crew_investor + "</p><p>开机日期：" + e.crewinfo.crew_bootime + "</p><p>拍摄地点：" + e.crewinfo.crew_position + "</p></div></div>";
      return e.seeDetail && (i += '<a class="check-it-out" href="/html/crew-detail.html?id=' + e.id + '">查看剧组详情</a>'), i
    },
    _buildCrewItem: function (e, i) {
      return '<div class="crew-item">' + this._buildCrewBrief({
        crewinfo: e,
        id: i,
        seeDetail: !0
      }) + '<div class="synopsis"><p>故事梗概：</p><p>' + e.introduction + "</p></div> </div>"
    },
    _buildMediaItem: function (e) {
      var i = '<div class="media-item"><div><img src="' + _data.ossDomain + e.item.avatar + '" alt="' + e.item.name + '"></div><div><p>' + e.item.name;
      return "creator" == e.type ? i += "&nbsp&nbsp" + e.item.title + "</p><p>作品：" + e.item.experiment + "</p>" : "role" == e.type && (i += "</p><p>性别：" + ("1" == e.item.gender ? "男" : "女") + "</p><p>角色：" + e.item.position + "</p><p>性格：" + e.item.character + "</p>"), i += "</div><div> <table><tr><th>简介：</th> <td>" + e.item.information + "</td> </tr></table></div> </div>"
    },
    _buildInfoTable: function (e) {
      var i = '<table><thead><tr><td colspan="2">' + e.name + "</td></tr></thead><tbody>";
      return i += this._buildInfoTableRow("性别", 1 == e.gender ? "男" : "女"), i += this._buildInfoTableRow("职业", e.profession), i += this._buildInfoTableRow("饰演", e.role), i += this._buildInfoTableRow("作品", e.creation), i += this._buildInfoTableRow("作品", e.experiment), i += this._buildInfoTableRow("简介", e.content), i += "</tbody></table>"
    },
    _buildInfoTableRow: function (e, i) {
      return "" != e && null != i && "" != i ? "<tr><th>" + e + "：</th><td>" + i + "</td></tr>" : ""
    },
    _buildRecruitInfo: function (e) {
      return "<div><p>" + e.title + "</p><div>" + e.content + "</div></div>"
    },
    _insertCrewBrief: function (e) {
      $("#crew-img").attr("src", _data.ossDomain + e.crew_picurl), $("#name").append(e.crew_name), $("#type").append(e.crew_type), $("#director").append(e.crew_director), $("#producer").append(e.crew_producer), $("#investor").append(e.crew_investor), $("#boottime").append(e.crew_bootime), $("#location").append(e.crew_position)
    }
  },
  _data = {
    getIndex: function (e) {
      this._get(this.indexUrl, e)
    },
    getCrewList: function (e) {
      this._get(this.crewListUrl, e)
    },
    getCrewDetailById: function (i, t) {
      this.getCrewList(function (e) {
        t(e.data[i])
      })
    },
    getJoinUs: function (e) {
      this._get(this.joinUsUrl, e)
    },
    getStarTeacherDetailById: function (e, i) {
      $.get(this.apiDomain + this.starTeachersUrl, {
        t_id: e
      }, i)
    },
    _get: function (e, i) {
      $.getJSON(e, i)
    },
    apiDomain: "json/",
    ossDomain: "/oss/",
    indexUrl: "json/index.json",
    crewListUrl: "../json/crew-list.json",
    joinUsUrl: "../json/recruit.json",
    starTeachersUrl: "web/starTeachers"
  },
  _ctl = {
    bannerSwiper: void 0,
    partnerInfoSwiper: void 0,
    partnerLogoSwiper: void 0,
    seniorTeacherImgSwiper: null,
    seniorTeacherInfoSwiper: null,
    starTeacherImgSwiper: null,
    starTeacherInfoSwiper: null,
    scrollWatch: function (t) {
      var a = $(window).scrollTop();
      $(window).scroll(function () {
        var e = $(window).scrollTop(),
          i = e - a;
        0 < i ? 50 < i && $(t.target).removeClass(t.showClass).addClass(t.hideClass) : $(t.target).removeClass(t.hideClass).addClass(t.showClass), a = e
      })
    },
    setParallax: function (e) {
      return new Parallax($(e).get(0))
    },
    setSwiper: function (e, i) {
      return new Swiper(e, i)
    },
    getQueryString: function (e) {
      var i = new RegExp("(^|&)" + e + "=([^&]*)(&|$)"),
        t = window.location.search.substr(1).match(i);
      return null != t ? decodeURI(t[2]) : null
    },
    getTime: function (e) {
      var i, t = new Date(1e3 * e.timestamp),
        a = t.getFullYear(),
        r = t.getMonth() + 1,
        n = t.getDate(),
        o = t.getHours(),
        s = t.getMinutes();
      switch (e.format) {
        case "mm-dd hh:mm":
          i = this.addZero(r) + "-" + this.addZero(n) + " " + this.addZero(o) + ":" + this.addZero(s);
          break;
        case "yyyy-mm-dd":
          i = a + "-" + this.addZero(r) + "-" + this.addZero(n);
          break;
        case "yyyy/mm/dd":
          i = a + "/" + this.addZero(r) + "/" + this.addZero(n);
          break;
        default:
          i = ""
      }
      return i
    },
    addZero: function (e) {
      return e < 10 ? "0" + e : e
    }
  };