function buildIndex(){_data.getIndex(_ui.buildIndex),buildCommon(),_ctl.setParallax(".top"),_ctl.setParallax("#soli-intro-text"),_ctl.setParallax("#soli-intro-imgs")}function buildCrewDetail(){_data.getCrewDetailById(_ctl.getQueryString("id"),_ui.buildCrewDetail),buildCommon()}function buildCrewList(){_data.getCrewList(_ui.buildCrewList),buildCommon()}function buildJoinUs(){_data.getJoinUs(_ui.buildJoinUs),buildCommon()}function buildStarTeacherDetail(){_data.getStarTeachersDetailById(_ctl.getQueryString("tid"),_ui.buildStarTeacherDetail),buildCommon()}function buildNavbar(){$(".wrapper").prepend(_ui.buildNavbar()),_ctl.scrollWatch({target:"nav",showClass:"show",hideClass:"hidden"})}function buildFooter(){$(".wrapper").append(_ui.buildFooter())}function buildCommon(){buildNavbar(),buildFooter()}var _ui={buildNavbar:function(){return'<nav class="container-fluid show"><div class="navbar navbar-expand-lg navbar-dark container">  <a class="navbar-brand" href="/index.html">    <img class="img-fluid" src="/img/icon/logo-soli.png" alt="温暖阳光下logo">  </a>  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">    <span class="navbar-toggler-icon"></span>   </button>  <div class="collapse navbar-collapse justify-content-end" id="navbarNav">    <div class="navbar-nav">      <a class="nav-item nav-link" href="/index.html#soli-intro">温暖阳光下</a>      <a class="nav-item nav-link" href="/index.html#projects">项目介绍</a>      <a class="nav-item nav-link" href="/index.html#partners">合作伙伴</a>      <a class="nav-item nav-link" href="/index.html#teachers">师资介绍</a>      <a class="nav-item nav-link" href="/index.html#join-us">加入我们</a>    </div>  </div></div></nav>'},buildFooter:function(){return'<footer><div class="container"> <p>版权所有:北京温暖阳光下教育科技有限公司</p> <div class="divider"></div> <p>公司电话：400-898-9680</p> <div class="divider"></div> <p>公司地址：北京市朝阳区酒仙桥路酒仙公寓B座2021</p> <div class="divider"></div> <p>备案号：京ICP备18028385号-1</p> </div> </footer>'},buildIndex:function(e){var t,i,a=(e=e.data).banner,r=e.about,n=e.drama,o=e.partner,s=e.starTeachers,l=e.seniorTeachers,d=e.job;for(t=a.length,i=0;i<t;++i)$(".banner .swiper-wrapper").append(_ui._buildSwiperSlide({type:"banner",data:a[i]}));for(_ctl.bannerSwiper=_ctl.setSwiper(".banner .swiper-container",{speed:600,loop:!0,slidesPerView:1,autoplay:{delay:4e3},centeredSlides:!0,grabCursor:!0,disableOnInteraction:!1,pagination:{el:".swiper-pagination",clickable:!0}}),$("#soli-intro-content").append(r.content),_ui._insertCrewBrief(n),t=o.length,i=0;i<t;++i)$(".partner-info .swiper-wrapper").append(_ui._buildSwiperSlide({type:"partner-info",data:o[i]})),$(".partner-logo .swiper-wrapper").append(_ui._buildSwiperSlide({type:"partner-logo",data:o[i]}));for(_ctl.partnerLogoSwiper=_ctl.setSwiper(".partner-logo",{slidesPerView:"auto",freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0}),_ctl.partnerInfoSwiper=_ctl.setSwiper(".partner-info",{autoplay:{delay:5e3},slidesPerView:"auto",autoHeight:!0,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:_ctl.partnerLogoSwiper}}),t=s.length,i=0;i<t;++i)$("#star-teachers .teacher-img .swiper-wrapper").append(_ui._buildSwiperSlide({type:"teacher-img",data:s[i]})),$("#star-teachers .teacher-info .swiper-wrapper").append(_ui._buildSwiperSlide({type:"teacher-info",data:s[i]}));for(_ctl.starTeacherInfoSwiper=_ctl.setSwiper("#star-teachers .teacher-info",{slidesPerView:1,allowSlidePrev:!1,allowSlideNext:!1,autoHeight:!0,observer:!0,observeParents:!0,effect:"fade",fadeEffect:{crossFade:!0}}),_ctl.starTeacherImgSwiper=_ctl.setSwiper("#star-teachers .teacher-img",{slidesPerView:"auto",centeredSlides:!0,freeMode:!0,observer:!0,observeParents:!0,slideToClickedSlide:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,controller:{control:_ctl.starTeacherInfoSwiper}}),t=l.length,i=0;i<t;++i)$("#senior-teachers .teacher-img .swiper-wrapper").append(_ui._buildSwiperSlide({type:"teacher-img",data:l[i]})),$("#senior-teachers .teacher-info .swiper-wrapper").append(_ui._buildSwiperSlide({type:"teacher-info",data:l[i]}));for(_ctl.seniorTeacherInfoSwiper=_ctl.setSwiper("#senior-teachers .teacher-info",{slidesPerView:1,allowSlidePrev:!1,allowSlideNext:!1,observer:!0,observeParents:!0,effect:"fade",fadeEffect:{crossFade:!0}}),_ctl.seniorTeacherImgSwiper=_ctl.setSwiper("#senior-teachers .teacher-img",{slidesPerView:"auto",centeredSlides:!0,freeMode:!0,observer:!0,observeParents:!0,slideToClickedSlide:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,controller:{control:_ctl.seniorTeacherInfoSwiper}}),i=0;i<3;++i)$("#recruit"+i+" p:nth-child(1)").append(d[i].title),$("#recruit"+i+" > div").append(d[i].content)},buildCrewDetail:function(e){var t,i,a=e.crewinfo,r=e.creatorlist,n=e.castlist,o=e.crew_album;for(_ui._insertCrewBrief(a),$("#synopsis").append(a.introduction),t=r.length,i=0;i<t;++i)$("#creators").append(_ui._buildMediaItem({type:"creator",item:r[i]}));for(t=n.length,i=0;i<t;++i)$("#roles").append(_ui._buildMediaItem({type:"role",item:n[i]}));var s="";for(t=o.length,i=0;i<t;++i)s+='<div><img src="'+_data.ossDomain+o[i].photo+'" alt="剧组相册"></div>';$("#album").append(s)},buildCrewList:function(e){var t,i=e.data,a=i.length;for(t=0;t<a;++t)$("#list").append(_ui._buildCrewItem(i[t].crewinfo,t))},buildJoinUs:function(e){var t,i=(e=e.data).length;for(t=0;t<i;++t)$(".join-us").append(_ui._buildRecruitInfo(e[t]))},buildStarTeacherDetail:function(e){$("#avatar").attr("src",e.avatar),$(".intro h3").text(e.name),$(".intro p").append(e.intro),$(".detail").append(e.detail)},_buildSwiperSlide:function(e){var t='<div class="swiper-slide">';switch(e.type){case"banner":if("向能"==e.data.title||"张华"==e.data.title){t+='<a href="/html/star-teacher.html?tid='+["张华","向能"].indexOf(e.data.title)+'">'+this._buildImage({src:_data.ossDomain+e.data.banner,alt:e.data.title})+"</a>";break}t+=this._buildImage({src:_data.ossDomain+e.data.banner,alt:e.data.title});break;case"partner-info":t+="<p>"+e.data.partner_title+"</p><p>"+e.data.partner_info+"</p>";break;case"partner-logo":t+=this._buildImage({src:_data.ossDomain+e.data.partner_src,alt:e.data.partner_title})+"<p>"+e.data.partner_title+"</p>";break;case"teacher-img":t+=this._buildImage({src:_data.ossDomain+e.data.avatar,alt:e.data.name});break;case"teacher-info":t+=this._buildInfoTable(e.data)}return t+"</div>"},_buildImage:function(e){return'<img src="'+e.src+'" alt="'+e.alt+'">'},_buildCrewBrief:function(e){var t='<div class="crew-brief"> <div><img class="img-fluid" alt="剧组图片" src="'+_data.ossDomain+e.crewinfo.crew_picurl+'"></div> <div class="brief-info"> <p>剧目类型：'+e.crewinfo.crew_type+"</p><p>导演："+e.crewinfo.crew_director+"</p><p>制作公司："+e.crewinfo.crew_producer+"</p><p>出品人/出品公司："+e.crewinfo.crew_investor+"</p><p>开机日期："+e.crewinfo.crew_bootime+"</p><p>拍摄地点："+e.crewinfo.crew_position+"</p></div></div>";return e.seeDetail&&(t+='<a class="check-it-out" href="/html/crew-detail.html?id='+e.id+'">查看剧组详情</a>'),t},_buildCrewItem:function(e,t){return'<div class="crew-item">'+this._buildCrewBrief({crewinfo:e,id:t,seeDetail:!0})+'<div class="synopsis"><p>故事梗概：</p><p>'+e.introduction+"</p></div> </div>"},_buildMediaItem:function(e){var t='<div class="media-item"><div><img src="'+_data.ossDomain+e.item.avatar+'" alt="'+e.item.name+'"></div><div><p>'+e.item.name;return"creator"==e.type?t+="&nbsp&nbsp"+e.item.title+"</p><p>作品："+e.item.experiment+"</p>":"role"==e.type&&(t+="</p><p>性别："+("1"==e.item.gender?"男":"女")+"</p><p>角色："+e.item.position+"</p><p>性格："+e.item.character+"</p>"),t+="</div><div> <table><tr><th>简介：</th> <td>"+e.item.information+"</td> </tr></table></div> </div>"},_buildInfoTable:function(e){var t='<table><thead><tr><td colspan="2">'+e.name+"</td></tr></thead><tbody>";return t+=this._buildInfoTableRow("性别",1==e.gender?"男":"女"),t+=this._buildInfoTableRow("职业",e.profession),t+=this._buildInfoTableRow("饰演",e.role),t+=this._buildInfoTableRow("作品",e.creation),t+=this._buildInfoTableRow("作品",e.experiment),t+=this._buildInfoTableRow("简介",e.content),t+="</tbody></table>"},_buildInfoTableRow:function(e,t){return""!=e&&null!=t&&""!=t?"<tr><th>"+e+"：</th><td>"+t+"</td></tr>":""},_buildRecruitInfo:function(e){return"<div><p>"+e.title+"</p><div>"+e.content+"</div></div>"},_insertCrewBrief:function(e){$("#crew-img").attr("src",_data.ossDomain+e.crew_picurl),$("#name").append(e.crew_name),$("#type").append(e.crew_type),$("#director").append(e.crew_director),$("#producer").append(e.crew_producer),$("#investor").append(e.crew_investor),$("#boottime").append(e.crew_bootime),$("#location").append(e.crew_position)}},_data={getIndex:function(e){this._get(this.indexUrl,e)},getCrewList:function(e){this._get(this.crewListUrl,e)},getCrewDetailById:function(t,i){this.getCrewList(function(e){i(e.data[t])})},getJoinUs:function(e){this._get(this.joinUsUrl,e)},getStarTeachersDetail:function(e){$.getJSON(this.starTeachersDetailUrl,e)},getStarTeachersDetailById:function(t,i){this.getStarTeachersDetail(function(e){i(e.teachers[t])})},_get:function(e,t){$.get(this.apiDomain+e,t)},apiDomain:"/api/",ossDomain:"https://acdors.oss-cn-beijing.aliyuncs.com/",indexUrl:"web/acdors",crewListUrl:"web/dramas",joinUsUrl:"web/joinUs",starTeachersDetailUrl:"/json/star-teachers.json"},_ctl={bannerSwiper:void 0,partnerInfoSwiper:void 0,partnerLogoSwiper:void 0,seniorTeacherImgSwiper:null,seniorTeacherInfoSwiper:null,starTeacherImgSwiper:null,starTeacherInfoSwiper:null,scrollWatch:function(i){var a=$(window).scrollTop();$(window).scroll(function(){var e=$(window).scrollTop(),t=e-a;0<t?50<t&&$(i.target).removeClass(i.showClass).addClass(i.hideClass):$(i.target).removeClass(i.hideClass).addClass(i.showClass),a=e})},setParallax:function(e){return new Parallax($(e).get(0))},setSwiper:function(e,t){return new Swiper(e,t)},getQueryString:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?decodeURI(i[2]):null},getTime:function(e){var t,i=new Date(1e3*e.timestamp),a=i.getFullYear(),r=i.getMonth()+1,n=i.getDate(),o=i.getHours(),s=i.getMinutes();switch(e.format){case"mm-dd hh:mm":t=this.addZero(r)+"-"+this.addZero(n)+" "+this.addZero(o)+":"+this.addZero(s);break;case"yyyy-mm-dd":t=a+"-"+this.addZero(r)+"-"+this.addZero(n);break;case"yyyy/mm/dd":t=a+"/"+this.addZero(r)+"/"+this.addZero(n);break;default:t=""}return t},addZero:function(e){return e<10?"0"+e:e}};